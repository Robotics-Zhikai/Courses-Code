# APUE
## 第15章 进程间通信
* 管道（无名管道 pipe，配合fork close进行创建）
* FIFO （命名管道 需要跟path联系起来）
	* 一个给定的FIFO有多个写进程是常见的，如果不希望多个进程所写的数据交叉，必须考虑原子写操作
* XSI IPC （key转化到标识符，把IPC看成一种对象资源，有以下三类资源）
	* 消息队列
	* 信号量
	* 共享存储
		* 进程间共享内存，最快的IPC。可以用管道机制实现不同进程对共享内存的互斥访问。也可以用XSI IPC提供的信号量机制对共享内存进行互斥访问。
* POSIX信号量（意在解决XSI信号量接口的几个缺陷，有两种形式如下，差异在于创建和销毁的形式上）
	* 命名的
		* 命名信号量可以通过名字访问，因此可以被任何已知它们名字的进程中的线程使用（这个应该和XSI IPC中的信号量思路是差不多的）
	* 未命名的
		* 未命名信号量只存在于内存中，并要求能使用信号量的进程必须可以访问内存，这意味着它们只能应用在同一进程中的线程，或者不同进程中已经映射相同内存内容到他们的地址空间中的线程。
* [这里对进程间通信的总结很好](https://www.zhihu.com/question/23995948/answer/1802584436)
	* 管道、消息队列会涉及到用户态与内核态的数据拷贝，共享存储不涉及用户态与内核态的数据拷贝。
* [什么场景用共享内存，什么场景用匿名管道](https://www.zhihu.com/question/23995948/answer/136236554)
	* PIPE和FIFO用来实现进程间相互发送非常短小的、频率很高的消息；这两种方式通常适用于两个进程间的通信。
	* 共享内存用来实现进程间共享的、非常庞大的、读写操作频率很高的数据（配合信号量使用）；这种方式通常适用于多进程间通信。
	* 其他考虑用socket。这里的“其他情况”，其实是今天主要会碰到的情况：分布式开发。在多进程、多线程、多模块所构成的今天最常见的分布式系统开发中，socket是第一选择。