# 第13章 拷贝控制 部分笔记
一些有效的简短总结
## 13.1.1 拷贝构造函数
### 笔记
* 拷贝构造函数的定义：如果一个构造函数的**第一个参数是自身类类型的引用**，且任何额外参数都有默认值，则此构造函数是拷贝构造函数。
* 拷贝初始化不仅在我们用=定义变量时会发生，在(1)将一个对象作为实参传递给一个非引用类型的形参(2)从一个返回类型为非引用类型的函数返回一个对象，注：也就是说对调用点处的临时对象执行拷贝构造(3)用花括号列表初始化一个数组中的元素或一个聚合类中的成员，这个暂时用到的还不多。
### 练习
* 13.2
> 解释为什么下面的声明是非法的：
```cpp
Sales_data::Sales_data(Sales_data rhs);
```

报错拷贝构造函数不能带有Sales_data类型的参数。无限循环。
## 13.1.3 析构函数
### 练习
* 13.11
> 为前面练习中的 `HasPtr` 类添加一个析构函数。

需要在析构函数中加一delete ps 以释放指针指向的对象。因为当指向一个对象的引用或指针离开作用域时，析构函数不会执行，且隐式销毁一个内置指针类型的成员不会delete它所指向的对象。
## 13.1.4 三/五法则
### 练习
* 13.15
> 假定`numbered` 定义了一个拷贝构造函数，能生成一个新的序列号。这会改变上一题中调用的输出结果吗？如果会改变，为什么？新的输出结果是什么？

新的输出结果是三个不同的数，且由于函数参数是传值，因此实参到形参步骤是执行了拷贝构造函数，形成了更新的三个数，与a b c本身存的三个数不同。